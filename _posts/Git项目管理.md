---
title: 部门Git代码管理规定  # 标题（自动生成，可修改）
date: 2025-08-12 15:30:00  # 发布时间（自动生成，可修改）
tags: [Git, 版本管理]  # 文章标签（可选，用逗号分隔）
categories: 软件开发  # 文章分类（可选，如 "技术"、"生活"）
description: IEC-部门Git代码管理规定  # 可选，用于SEO或摘要显示
---
# 部门Git代码管理规定（草稿）

## 1. 目的

为规范团队代码管理流程，提高协作效率，保证代码质量，减少代码冲突，特制定本规定。所有团队成员必须严格遵守。

## 2. 分支管理规范

### 2.1 分支类型及命名

- **主分支**
  - `main`：生产环境代码，随时可部署，仅通过合并请求更新(所有仓库的main分支均关闭push权限，合并请求必须代码负责人审批和CI流水线检测，若负责人因故无法审批，由经理人进行审批并备注)。
  - `develop`：开发主分支，包含最新开发成果，开发分支由开发人员或项目经理维护。
  - 发布标签：`release/vX.Y.Z`，如`release/v1.2.0`，版本tag合并必需与PLM发布版本一致

- **辅助分支**
  - 功能分支：`feature/[issue-id]-简短描述`，如`feature/123-user-login`，相关分支不受任何保护，由开发人员创建删除。
  - 修复分支：`bugfix/[issue-id]-简短描述`，如`bugfix/124-fix-login-validation`，相关分支不受任何保护，由开发人员创建删除。
  - 紧急临时分支：`hotfix/vX.Y.Z-[issue-id]`，如`hotfix/v1.1.1-125`，相关分支由代码负责人审批和管理。
  - 测试分支：`test/[issue-id]-简短描述`，如`test/ptp测试`

### 2.2 分支流程

1. 所有开发工作在`develop`分支完成
2. 功能完成后，通过合并请求(MR/PR)合并回`develop`分支或`main`分支
3. 发布前从`main`创建`test`分支，仅修复bug，不允许添加新功能
4. 发布测试通过后，将`test`分支合并到`main`和`develop`
5. 生产环境紧急问题从`main`创建`hotfix`分支或者`bug`分支，修复后合并到`main`和`develop`

## 3. 提交规范

### 3.1 提交信息格式

```
<类型>[可选作用域]: <描述>

[可选正文]

[可选脚注]
```

示例：
```
feat(auth): 实现用户登录功能

- 添加登录表单组件
- 实现登录API调用
- 添加JWT认证逻辑

Closes #123
```

### 3.2 提交类型

- `feat`：新功能
- `fix`：bug修复
- `docs`：文档更新
- `style`：代码格式调整，不影响代码运行的变动
- `refactor`：代码重构，既不是新功能也不是修复bug
- `perf`：性能优化
- `test`：添加或修改测试代码
- `build`：构建流程或依赖变更
- `ci`：CI配置文件和脚本变更
- `chore`：其他不修改src或test的变更

## 4. 代码合并规范

1. 所有代码合并必须通过合并请求(MR/PR)进行，禁止直接推送到保护分支
2. 合并请求至少需要1名团队成员审核通过
3. 合并前必须确保CI检查通过（包括代码风格、单元测试等）
4. 合并时使用"Squash and merge"方式，保持提交历史清晰
5. 合并请求标题应遵循与提交信息相同的规范

## 5. 代码审查规范

1. 审查者应在24小时内响应合并请求
   代码提交人员需采用钉钉或电话方式及时与评审人员沟通
2. 审查重点包括：
   -	代码逻辑正确性
   -	代码风格是否符合团队规范
   -	是否包含适当的测试
   -	潜在的性能问题
   -	安全性考虑
3. 审查意见应具体、建设性，针对具体代码，避免模糊的评价
4. 提交者应积极回应审查意见，必要时进行修改或添加注释

## 6. 代码冲突处理

1. 开发者应及时从目标分支同步最新代码，减少冲突可能性
2. 冲突解决应由相关代码的作者共同协商解决，默认后提交者解决所有冲突
3. 解决冲突后，需确保代码仍能正常工作并通过测试

## 7. 标签管理

1. 每次发布到生产环境后，在`main`分支创建版本标签
2. 标签格式：`vX.Y.Z`，遵循语义化版本规范
   - X：主版本号，不兼容的API变更
   - Y：次版本号，向后兼容的功能新增
   - Z：修订号，向后兼容的问题修正
3. 标签必需添加描述，说明该版本的变更明显

## 8. 代码保密

1. 禁止将包含敏感信息（密钥、密码等）的代码提交到仓库
2. 敏感配置应使用环境变量或配置文件，并将配置文件加入`.gitignore`
3. 禁止将内部项目代码推送到公共仓库
4. 离开团队的成员应及时移除其代码仓库访问权限
5. 代码管理或经理人工作调整时应及时告知维护人员更改权限
6. 代码管理人员和经理人负责代码团队成员的权限管理

## 9. 其他

1. 代码上传非必要不上传编译过程文件
2. 管理流程仅适用于C/C++嵌入式软件项目

---

**附注**：推荐的`.gitignore`模板、提交信息校验配置等可根据项目具体情况另行制定。